CREATE OR REPLACE PROCEDURE ABC
AS
CURSOR CUR1 IS SELECT * FROM EMP WHERE SAL>1000 AND JOB IN ('CLERK');
INFO CUR1%ROWTYPE;

BEGIN
OPEN CUR1;
LOOP
FETCH CUR1 INTO INFO;
EXIT WHEN CUR1%NOTFOUND;
IF (INFO.JOB='CLERK') THEN
INSERT INTO TABLENAME VALUES(INFO.EMPNO,INFO.ENAME,INFO.SAL*1.2);
ELSE
INSERT INTO TABLENAME VALUES (INFO.EMPNO,INFO.ENAME,INFO.SAL*1.5)
END IF;
END LOOP;
CLOSE CUR1;
END;
/



CREATE OR REPLACE PROCEDURE ABC(ID EMP.EMPNO%TYPE)
AS 
CURSOR CUR IS SELECT * FROM EMP WHERE EMPNO=ID;
CURSOR CUR1(SAL1 INT) IS SELECT ROWNUM AS SNO,A.ERF,B.ERFV FROM EMP A LEFT OUTER JOIN EMP B ON B.EMP=A.MGR WHERE A.SAL>SAL1;

EDATA CUR%ROWTYPE;
D CUR1%ROWTYPE;

BEGIN
OPEN CUR;
FETCH CUR INTO EDATA;
OPEN CUR1(EDATA.SAL);
DBMS_OUTPUT.PUT_LINE('SRNO  EMPNO ENAME MANAHER NAME DEOI NO');
LOOP
FETCH CUR1 INTO D;
EXIT WHEN CUR1%NOTFOUND
DBMS_OUTPUT.PUT_LINE(D.SNO||CHR(9)||D.EMWNOCN)---HERE D IS CUR1 KA VARIABLEUSKO PEHLE DEFINE KARTE TIME LIYA THEN IS SELCT.... THEN D CUR1%TYPE; 

END LOOP;
CLOSE CUR;
CLOSE CUR1;
END;




